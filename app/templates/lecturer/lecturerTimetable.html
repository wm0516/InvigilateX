{% extends "lecturer/lecturerBase.html" %}
{% block title %}Lecturer Timetable{% endblock %}

{% block content %}
<div class="menu-section">
    <h2>My Timetable</h2>

    <div class="timetable-container">
        <!-- Header Row -->
        <div></div>
        {% set days = ["MON", "TUE", "WED", "THU", "FRI"] %}
        {% for day in days %}
            <div class="timetable-header">{{ day }}</div>
        {% endfor %}

        <!-- Time Rows -->
        {% for hour in range(7, 24) %}
            <div class="time-cell">{{ "%02d:00"|format(hour) }}</div>
            {% for day in days %}
                <div class="day-cell">
                    {% for row in timetable_rows %}
                        {% if row.classDay == day %}
                            {% set start_hour = row.classTime.split('-')[0].split(':')[0] | int %}
                            {% if start_hour == hour %}
                                <div class="class-block">
                                    <strong>{{ row.courseName }}</strong><br>
                                    [{{ row.classType }}]<br>
                                    <i>{{ row.classRoom }}</i><br>
                                    <span>{{ row.classTime }}</span>
                                </div>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                </div>
            {% endfor %}
        {% endfor %}
    </div>
</div>
{% endblock %}
